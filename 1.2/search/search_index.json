{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Overview","text":"<p><code>XMLUtils</code> is a Dyalog APL namespace containing utilities designed to:</p> <ul> <li>Convert HTML to XHTML. XHTML is essentially HTML that is rewritten to follow the stricter rules of XML. XHTML can be processed by Dyalog APL's <code>\u2395XML</code> system function to produce a matrix form of the content. This matrix form lends itself to easier manipulation in APL.</li> <li>Manipulate matrix form XML data. There are utilities to search, select, insert, replace, and delete elements in the XML matrix data.</li> </ul> <p>Note</p> <p>While <code>XMLUtils</code> itself is <code>\u2395IO</code> and <code>\u2395ML</code> insensitive, the examples in this documentation assume an environment of <code>(\u2395IO \u2395ML)\u21901</code>.</p>"},{"location":"#obtaining-xmlutils","title":"Obtaining <code>XMLUtils</code>","text":"<p><code>XMLUtils</code> is a single namespace contained in a single APL source file. There are several ways to obtain <code>XMLUtils</code>.</p> <ul> <li>Released versions are available on GitHub.</li> <li><code>XMLUtils</code> is also available as a Tatin package: bpbecker-XMLUtils.</li> <li>The latest \"pre-release\" version, if any, can be found in the master branch of https://github.com/BPBecker/XMLUtils</li> <li>You can also use the <code>]get</code> user command to load <code>XMLUtils</code> into your active workspace.</li> </ul> <pre><code>      ]get https://github.com/bpbecker/XMLUtils/raw/refs/heads/master/Source/XMLUtils.apln\n</code></pre>"},{"location":"#motivation","title":"Motivation","text":"<p><code>XMLUtils</code> started as a simple project in a namespace named <code>xhtml</code>. I occasionally found data in web pages that I wanted to import into my workspace for further processing. Because HTML has a \"looser\" rule set than XHTML, a lot of times I couldn't simply run the HTML through <code>\u2395XML</code>. And thus was born <code>HTMLtoXHTML</code> - a utility that attempts to convert HTML, even malformed HTML, into XHTML and then use <code>\u2395XML</code> to return the data in matrix form. </p> <p>Once I've got the XML matrix, what can I do with it? That's where the other part of <code>XMLUtils</code> comes in - to search and select  </p> <p>For example, let's suppose I wanted to find all the stylesheets that are linked to the Dyalog.com home page. (Note that the examples below reflect the content of the Dyalog home page at the time of this writing - it may change.)</p> <p>First, I'll use <code>HttpCommand</code> to grab the HTML for the page</p> <pre><code>      ]load HttpCommand\n      html\u2190(HttpCommand.Get 'dyalog.com').Data\n      50\u2191html\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Trans\n</code></pre> <p>Next, I'll convert it to XML using <code>HTMLtoXHTML</code></p> <pre><code>      \u2262xml\u2190XMLUtils.HTMLtoXHTML html\n308\n</code></pre> <p>Now I'll <code>Xfind</code> to find all of the <code>&lt;link&gt;</code> elements that have a <code>rel=stylesheet</code> attribute</p> <pre><code>      +/matches\u2190xml XMLUtils.Xfind '//link//rel/stylesheet'\n4\n</code></pre> <p>I can use <code>Xsel</code> to select those elements.</p> <pre><code>      \u2262elements\u2190xml XMLUtils.Xsel matches\n4\n</code></pre> <p>Finally, I can get the URLs for all of the stylesheets using the <code>href</code> attribute.</p> <pre><code>      \u236aurls\u2190elements XMLUtils.Xattr 'href'\n  https://fonts.googleapis.com/css2?family=Exo+2:wght@400;700&amp;display=swap                   \n  //cdn.dyalog.com/css/apl385.css                                                            \n  /uploads/css/jquery.fancybox.css                                                           \n  https://www.dyalog.com/tmp/cache/stylesheet_combined_46f9f0f9723b06cff2425d65f29f50ab.css  \n</code></pre> <p>Combining it all...</p> <pre><code>      urls\u2190(xml XMLUtils.Xsel xml XMLUtils.Xfind'//link//rel/stylesheet')XMLUtils.Xattr 'href'\n</code></pre>"},{"location":"LICENSE/","title":"License","text":"<p>MIT License</p> <p>Copyright (c) 2021 Dyalog</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"examples/","title":"Examples","text":""},{"location":"examples/#manipulating-xml","title":"Manipulating XML","text":"<p>For the following examples, we'll be using the following XML...</p> <pre><code>      x \u2190 '&lt;a class=\"top\"&gt;Hello&lt;b id=\"foo\"&gt;World&lt;c class=\"middle blue\"&gt;!&lt;b/&gt;&lt;/c&gt;&lt;d/&gt;&lt;/b&gt;&lt;b class=\"blue\"&gt;How&lt;/b&gt;Are You?&lt;/a&gt;'\n      xml \u2190 XMLUtils.HTMLtoXHTML x\n\n      \u2395XML xml\n&lt;a class=\"top\"&gt;\n  Hello\n  &lt;b id=\"foo\"&gt;\n    World\n    &lt;c class=\"middle blue\"&gt;\n      !\n      &lt;b&gt;&lt;/b&gt;\n    &lt;/c&gt;\n    &lt;d&gt;&lt;/d&gt;\n  &lt;/b&gt;\n  &lt;b class=\"blue\"&gt;How&lt;/b&gt;\n  Are You?\n&lt;/a&gt;\n\n      'Level' 'Element' 'Content' 'Attributes' 'Type'\u236axml\n\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510\n\u2502Level\u2502Element\u2502Content \u2502Attributes         \u2502Type\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u25020    \u2502a      \u2502        \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2510        \u25027   \u2502\n\u2502     \u2502       \u2502        \u2502\u2502class\u2502top\u2502        \u2502    \u2502\n\u2502     \u2502       \u2502        \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518        \u2502    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u25021    \u2502       \u2502Hello   \u2502                   \u25024   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u25021    \u2502b      \u2502        \u2502\u250c\u2500\u2500\u252c\u2500\u2500\u2500\u2510           \u25027   \u2502\n\u2502     \u2502       \u2502        \u2502\u2502id\u2502foo\u2502           \u2502    \u2502\n\u2502     \u2502       \u2502        \u2502\u2514\u2500\u2500\u2534\u2500\u2500\u2500\u2518           \u2502    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u25022    \u2502       \u2502World   \u2502                   \u25024   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u25022    \u2502c      \u2502        \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u25027   \u2502\n\u2502     \u2502       \u2502        \u2502\u2502class\u2502middle blue\u2502\u2502    \u2502\n\u2502     \u2502       \u2502        \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u25023    \u2502       \u2502!       \u2502                   \u25024   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u25023    \u2502b      \u2502        \u2502                   \u25021   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u25022    \u2502d      \u2502        \u2502                   \u25021   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u25021    \u2502b      \u2502How     \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510       \u25025   \u2502\n\u2502     \u2502       \u2502        \u2502\u2502class\u2502blue\u2502       \u2502    \u2502\n\u2502     \u2502       \u2502        \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2518       \u2502    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u25021    \u2502       \u2502Are You?\u2502                   \u25024   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2518\n\n</code></pre>"},{"location":"examples/#xfind-xselect-and-xattr","title":"<code>Xfind</code>, <code>Xselect</code> and <code>Xattr</code>","text":"<ul> <li>Find all the <code>&lt;b&gt;</code> elements (and their descendents)</li> </ul> <pre><code>      \u22a2bv \u2190 xml XMLUtils.Xfind '//b'\n0 0 1 0 0 0 1 0 1 0\n      xml XMLUtils.Xselect bv\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502\u250c\u2500\u252c\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2510\u2502\u250c\u2500\u252c\u2500\u252c\u252c\u2500\u2500\u2500\u252c\u2500\u2510\u2502\u250c\u2500\u252c\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2510\u2502\n\u2502\u25021\u2502b\u2502     \u2502\u250c\u2500\u2500\u252c\u2500\u2500\u2500\u2510           \u25027\u2502\u2502\u25023\u2502b\u2502\u2502   \u25021\u2502\u2502\u25021\u2502b\u2502How\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510\u25025\u2502\u2502\n\u2502\u2502 \u2502 \u2502     \u2502\u2502id\u2502foo\u2502           \u2502 \u2502\u2502\u2514\u2500\u2534\u2500\u2534\u2534\u2500\u2500\u2500\u2534\u2500\u2518\u2502\u2502 \u2502 \u2502   \u2502\u2502class\u2502blue\u2502\u2502 \u2502\u2502\n\u2502\u2502 \u2502 \u2502     \u2502\u2514\u2500\u2500\u2534\u2500\u2500\u2500\u2518           \u2502 \u2502\u2502            \u2502\u2502 \u2502 \u2502   \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2518\u2502 \u2502\u2502\n\u2502\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\u2502            \u2502\u2514\u2500\u2534\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518\u2502\n\u2502\u25022\u2502 \u2502World\u2502                   \u25024\u2502\u2502            \u2502                        \u2502\n\u2502\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\u2502            \u2502                        \u2502\n\u2502\u25022\u2502c\u2502     \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u25027\u2502\u2502            \u2502                        \u2502\n\u2502\u2502 \u2502 \u2502     \u2502\u2502class\u2502middle blue\u2502\u2502 \u2502\u2502            \u2502                        \u2502\n\u2502\u2502 \u2502 \u2502     \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502 \u2502\u2502            \u2502                        \u2502\n\u2502\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\u2502            \u2502                        \u2502\n\u2502\u25023\u2502 \u2502!    \u2502                   \u25024\u2502\u2502            \u2502                        \u2502\n\u2502\u2514\u2500\u2534\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518\u2502            \u2502                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <ul> <li>Find all the <code>&lt;b&gt;</code> elements (but not including their descendents)</li> </ul> <pre><code>      0 (xml XMLUtils.Xselect) bv\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502\u250c\u2500\u252c\u2500\u252c\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2510\u2502\u250c\u2500\u252c\u2500\u252c\u252c\u2500\u2500\u2500\u252c\u2500\u2510\u2502\u250c\u2500\u252c\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2510\u2502\n\u2502\u25021\u2502b\u2502\u2502\u250c\u2500\u2500\u252c\u2500\u2500\u2500\u2510\u25027\u2502\u2502\u25023\u2502b\u2502\u2502   \u25021\u2502\u2502\u25021\u2502b\u2502How\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510\u25025\u2502\u2502\n\u2502\u2502 \u2502 \u2502\u2502\u2502id\u2502foo\u2502\u2502 \u2502\u2502\u2514\u2500\u2534\u2500\u2534\u2534\u2500\u2500\u2500\u2534\u2500\u2518\u2502\u2502 \u2502 \u2502   \u2502\u2502class\u2502blue\u2502\u2502 \u2502\u2502\n\u2502\u2502 \u2502 \u2502\u2502\u2514\u2500\u2500\u2534\u2500\u2500\u2500\u2518\u2502 \u2502\u2502            \u2502\u2502 \u2502 \u2502   \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2518\u2502 \u2502\u2502\n\u2502\u2514\u2500\u2534\u2500\u2534\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518\u2502            \u2502\u2514\u2500\u2534\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <ul> <li>Find the \"class\" and \"id\" attributes for all <code>&lt;b&gt;</code> elements, but not their descendents</li> </ul> <pre><code>      (0 (xml XMLUtils.Xselect) bv) XMLUtils.Xattr 'class id'\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502\u250c\u252c\u2500\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u252c\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2510\u2502\n\u2502\u2502\u2502\u250c\u2500\u2500\u2500\u2510\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u250c\u2500\u2500\u2500\u2500\u2510\u2502\u2502\u2502\n\u2502\u2502\u2502\u2502foo\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2502blue\u2502\u2502\u2502\u2502\n\u2502\u2502\u2502\u2514\u2500\u2500\u2500\u2518\u2502\u2502\u2502\u2502\u2502\u2502\u2502\u2514\u2500\u2500\u2500\u2500\u2518\u2502\u2502\u2502\n\u2502\u2514\u2534\u2500\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2534\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2518\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"examples/#htmltoxhtml-and-xattrval","title":"<code>HTMLtoXHTML</code> and <code>Xattrval</code>","text":"<p>Find all of the linked resources on a web page. Linked resources and pages use the <code>href</code> attribute while images use the <code>src</code> attribute. <code>HTMLtoXHTML2</code> could also be used instead of <code>HTMLtoXHTML</code>.</p> <pre><code>\u235d get the HTML content of the page\n      ]load HttpCommand\n      html \u2190 (HttpCommand.Get 'dyalog.com').Data\n\n\u235d convert to XML (XHTML) (\u235d you could also use HTMLtoXHTML2) \n      \u2374 xml \u2190 XMLUtils.HTMLtoXHTML html  \n308 5\n\n\u235d find all href and src attribute values\n      \u2262\u00a8 linked \u2190 xml XMLUtils.Xattrval '////href src'\n95 18\n</code></pre> <p>There are 95 <code>href</code> and 18 <code>src</code> values.</p>"},{"location":"examples/#xinsert","title":"<code>Xinsert</code>","text":"<p>Insert a <code>&lt;b&gt;</code> element after the <code>&lt;a&gt;</code> element.</p> <pre><code>      '&lt;b/&gt;'('&lt;a&gt;&lt;c/&gt;&lt;/a&gt;'XMLUtils.Xinsert)'//a'\n\u250c\u2500\u252c\u2500\u252c\u252c\u2500\u2500\u2500\u252c\u2500\u2510\n\u25020\u2502a\u2502\u2502   \u25023\u2502\n\u251c\u2500\u253c\u2500\u253c\u253c\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502b\u2502\u2502   \u25021\u2502\n\u251c\u2500\u253c\u2500\u253c\u253c\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502c\u2502\u2502   \u25021\u2502\n\u2514\u2500\u2534\u2500\u2534\u2534\u2500\u2500\u2500\u2534\u2500\u2518\n</code></pre>"},{"location":"examples/#xdelete","title":"<code>Xdelete</code>","text":"<p>Using <code>xml</code> from above, delete all <code>&lt;c&gt;</code> and <code>&lt;d&gt;</code> elements and their descendants:</p> <pre><code>      xml XMLUtils.Xdelete xml XMLUtils.Xfind '//c d'\n\u250c\u2500\u252c\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2510\n\u25020\u2502a\u2502        \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2510 \u25027\u2502\n\u2502 \u2502 \u2502        \u2502\u2502class\u2502top\u2502 \u2502 \u2502\n\u2502 \u2502 \u2502        \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518 \u2502 \u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502 \u2502Hello   \u2502            \u25024\u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502b\u2502        \u2502\u250c\u2500\u2500\u252c\u2500\u2500\u2500\u2510    \u25027\u2502\n\u2502 \u2502 \u2502        \u2502\u2502id\u2502foo\u2502    \u2502 \u2502\n\u2502 \u2502 \u2502        \u2502\u2514\u2500\u2500\u2534\u2500\u2500\u2500\u2518    \u2502 \u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25022\u2502 \u2502World   \u2502            \u25024\u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502b\u2502How     \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510\u25025\u2502\n\u2502 \u2502 \u2502        \u2502\u2502class\u2502blue\u2502\u2502 \u2502\n\u2502 \u2502 \u2502        \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2518\u2502 \u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502 \u2502Are You?\u2502            \u25024\u2502\n\u2514\u2500\u2534\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518\n</code></pre> <p>Now, do the same, but do not delete the descendants:</p> <pre><code>      0 (xml XMLUtils.Xdelete) xml XMLUtils.Xfind '//c d'\n\u250c\u2500\u252c\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2510\n\u25020\u2502a\u2502        \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2510 \u25027\u2502\n\u2502 \u2502 \u2502        \u2502\u2502class\u2502top\u2502 \u2502 \u2502\n\u2502 \u2502 \u2502        \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518 \u2502 \u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502 \u2502Hello   \u2502            \u25024\u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502b\u2502        \u2502\u250c\u2500\u2500\u252c\u2500\u2500\u2500\u2510    \u25027\u2502\n\u2502 \u2502 \u2502        \u2502\u2502id\u2502foo\u2502    \u2502 \u2502\n\u2502 \u2502 \u2502        \u2502\u2514\u2500\u2500\u2534\u2500\u2500\u2500\u2518    \u2502 \u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25022\u2502 \u2502World   \u2502            \u25024\u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25023\u2502 \u2502!       \u2502            \u25024\u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25023\u2502b\u2502        \u2502            \u25021\u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502b\u2502How     \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510\u25025\u2502\n\u2502 \u2502 \u2502        \u2502\u2502class\u2502blue\u2502\u2502 \u2502\n\u2502 \u2502 \u2502        \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2518\u2502 \u2502\n\u251c\u2500\u253c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502 \u2502Are You?\u2502            \u25024\u2502\n\u2514\u2500\u2534\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518\n</code></pre>"},{"location":"examples/#xreplace","title":"<code>Xreplace</code>","text":"<p>Replace the element with <code>id=\"foo\"</code> (and its descendants) with new elements.</p> <pre><code>      '&lt;new&gt;This is new&lt;/new&gt;' (xml XMLUtils.Xreplace) xml XMLUtils.Xfind '////id/foo'\n\u250c\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2510\n\u25020\u2502a  \u2502           \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2510 \u25027\u2502\n\u2502 \u2502   \u2502           \u2502\u2502class\u2502top\u2502 \u2502 \u2502\n\u2502 \u2502   \u2502           \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518 \u2502 \u2502\n\u251c\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502   \u2502Hello      \u2502            \u25024\u2502\n\u251c\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502new\u2502This is new\u2502            \u25025\u2502\n\u251c\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502b  \u2502How        \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510\u25025\u2502\n\u2502 \u2502   \u2502           \u2502\u2502class\u2502blue\u2502\u2502 \u2502\n\u2502 \u2502   \u2502           \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2518\u2502 \u2502\n\u251c\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502   \u2502Are You?   \u2502            \u25024\u2502\n\u2514\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518\n</code></pre>"},{"location":"htmltoxhtml/","title":"HTML to XHTML Conversion","text":"<p>HTML follows a much \"looser\" set of rules than XHTML. For instance:</p> <ul> <li>Optional Tags: You can omit closing tags like <code>&lt;/li&gt;</code>, <code>&lt;/p&gt;</code>, or even <code>&lt;/html&gt;</code> and <code>&lt;/body&gt;</code> and browsers will still render the page correctly.</li> <li>Unquoted Attributes: HTML allows attributes without quotes if the value doesn\u2019t contain spaces or special characters.</li> <li>Case Insensitivity: Tags and attributes aren\u2019t case-sensitive \u2014 <code>&lt;BODY&gt;</code> and <code>&lt;body&gt;</code> are treated the same.</li> <li>\"Tag Soup\" Tolerance: Browsers use error-correcting algorithms to interpret malformed markup, often guessing what the author intended.</li> </ul> <p>HTML to XHTML conversion may not \"round trip\". This means that if you apply <code>\u2395XML</code> to the XML result of the conversion, the resulting XHTML might not map identically to the original HTML.</p> <p>Note</p> <p>Be mindful that very messed up HTML may not be able to be parsed using either <code>HTMLtoXHTML</code> or <code>HTMLtoXHTML2</code>.For instance <code>'&lt;a&gt; &lt;b &lt;/a&gt;'</code> will cause an error using either function.</p>"},{"location":"htmltoxhtml/#htmltoxhtml","title":"<code>HTMLtoXHTML</code>","text":"<p><code>HTMLtoXHTML</code> uses <code>\u2395XML</code> to parse HTML. When <code>\u2395XML</code> trips over a non-compliant element <code>HTMLtoXHTML</code> parses the error message and takes corrective measures and tries again. This continues until either the conversion completes or we encounter a situation that we couldn't handle. If you run into the latter, please log a GitHub issue. </p> Syntax <code>xml \u2190 {verbose} HTMLtoXHTML html</code> <code>html</code> A character vector representing the HTML to be converted <code>verbose</code> (optional) A Boolean where a value of <code>1</code> indicates to display the error messages <code>\u2395XML</code> generates during processing <code>xml</code> The <code>\u2395XML</code> 5-column matrix result representing the converted HTML Examples <pre>       HTMLtoXHTML '&lt;h2 id=\"foo\"&gt;Hello&lt;/h2&gt;'\u250c\u2500\u252c\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2510\u25020\u2502h2\u2502Hello\u2502\u250c\u2500\u2500\u252c\u2500\u2500\u2500\u2510\u25025\u2502\u2502 \u2502  \u2502     \u2502\u2502id\u2502foo\u2502\u2502 \u2502\u2502 \u2502  \u2502     \u2502\u2514\u2500\u2500\u2534\u2500\u2500\u2500\u2518\u2502 \u2502\u2514\u2500\u2534\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518</pre>"},{"location":"htmltoxhtml/#htmltoxhtml2","title":"<code>HTMLtoXHTML2</code>","text":"<p><code>HTMLtoXHTML2</code> uses <code>HTMLRenderer</code> and the JavaScript XMLSerializer object to generate its XHTML result by:</p> <ul> <li>creating an invisible HTMLRenderer with the supplied HTML argument</li> <li>injecting a WebSocket to communicate back to APL</li> <li>executing the JavaScript to parse the HTML</li> <li>sending the result back to APL over the WebSocket</li> <li>finally closing the <code>HTMLRenderer</code> </li> </ul> Syntax <code>xml \u2190 HTMLtoXHTML2 html</code> <code>html</code> A character vector representing the HTML to be converted <code>xml</code> The <code>\u2395XML</code> 5-column matrix result representing the converted HTML Examples <pre>       HTMLtoXHTML '&lt;h2 id=\"foo\"&gt;Hello&lt;/h2&gt;'\u250c\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2510\u25020\u2502html\u2502     \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u25023\u2502\u2502 \u2502    \u2502     \u2502\u2502xmlns\u2502http://www.w3.org/1999/xhtml\u2502\u2502 \u2502\u2502 \u2502    \u2502     \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502 \u2502\u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\u25021\u2502head\u2502     \u2502                                    \u25021\u2502\u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\u25021\u2502body\u2502     \u2502                                    \u25023\u2502\u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\u25022\u2502h2  \u2502Hello\u2502\u250c\u2500\u2500\u252c\u2500\u2500\u2500\u2510                            \u25025\u2502\u2502 \u2502    \u2502     \u2502\u2502id\u2502foo\u2502                            \u2502 \u2502\u2502 \u2502    \u2502     \u2502\u2514\u2500\u2500\u2534\u2500\u2500\u2500\u2518                            \u2502 \u2502\u2514\u2500\u2534\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518</pre>"},{"location":"htmltoxhtml/#differences-between-htmltoxhtml-and-htmltoxhtml2","title":"Differences between <code>HTMLtoXHTML</code> and <code>HTMLtoXHTML2</code>","text":"<p>As you can see from the examples above, <code>HTMLtoXHTML</code> and <code>HTMLtoXHTML2</code> return somewhat different results. In general, the core HTML that is converted will be structurally the same.</p> <ul> <li><code>HTMLtoXHTML2</code> requires <code>HTMLRenderer</code> which might not be installed or enabled.</li> <li><code>HTMLtoXHTML2</code> adds <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> elements if they don't exist in the source HTML. This may produce different level numbers from <code>HTMLtoXHTML</code>.</li> <li><code>HTMLtoXHTML</code> and <code>HTMLtoXHTML2</code> may return slightly different results when encountering \"sloppy\" or malformed HTML.</li> </ul> <pre><code>      XMLUtils.HTMLtoXHTML '&lt;p&gt;&lt;span&gt;hello&lt;/p&gt;there&lt;/span&gt;world'\n\u250c\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2510\n\u25020\u2502p   \u2502          \u2502   \u25027\u2502\n\u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502span\u2502hello     \u2502   \u25025\u2502\n\u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502    \u2502thereworld\u2502   \u25024\u2502\n\u2514\u2500\u2534\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2518\n      XMLUtils.HTMLtoXHTML2 '&lt;p&gt;&lt;span&gt;hello&lt;/p&gt;there&lt;/span&gt;world'\n\u250c\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2510\n\u25020\u2502html\u2502          \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u25023\u2502\n\u2502 \u2502    \u2502          \u2502\u2502xmlns\u2502http://www.w3.org/1999/xhtml\u2502\u2502 \u2502\n\u2502 \u2502    \u2502          \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502 \u2502\n\u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502head\u2502          \u2502                                    \u25021\u2502\n\u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25021\u2502body\u2502          \u2502                                    \u25027\u2502\n\u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25022\u2502p   \u2502          \u2502                                    \u25023\u2502\n\u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25023\u2502span\u2502hello     \u2502                                    \u25025\u2502\n\u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2524\n\u25022\u2502    \u2502thereworld\u2502                                    \u25024\u2502\n\u2514\u2500\u2534\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518\n</code></pre>"},{"location":"release-notes/","title":"Release Notes","text":""},{"location":"release-notes/#version-12","title":"Version 1.2","text":"<ul> <li>Added <code>XMLtoJSON</code> to convert XML to a JSON representation.</li> </ul>"},{"location":"release-notes/#version-11","title":"Version 1.1","text":"<ul> <li>Added \"lastChance\" which attempts to repair a damaged tag when all else has failed.</li> </ul>"},{"location":"release-notes/#version-10","title":"Version 1.0","text":"<ul> <li>Initial release on BPBecker (moved and updated from Dyalog/bb)</li> </ul>"},{"location":"xmlutils/","title":"XML Utilities","text":"<p>In addition to HTML conversion, <code>XMLUtils</code> has a number of utilities to search and manipulate <code>\u2395XML</code>'s 5-column matrix format. This page presents only descriptions of the utilities. Examples are found on the examples page.</p>"},{"location":"xmlutils/#xfind","title":"<code>Xfind</code>","text":"<p><code>Xfind</code> finds XML elements matching criteria you specify. The criteria maps closely to the columns of a <code>\u2395XML</code> matrix.</p> Syntax <code>bv \u2190 xml Xfind criteria</code> <code>criteria</code> A delimited character vector where each segment is a filter to be applied to a column of <code>xml</code>. The first character in <code>criteria</code> is used as the delimiter. Empty segments are not used in the search. All textual searches are case insensitive.<pre>      specs \u2190 '/level/element/content/attribute/attributeValue/type'</pre>Where:<ul><li><code>level</code> is the nesting level (<code>xml[;1]</code>). <code>level</code> can be any of<ul><li>a single level number</li><li>a space-delimited list of level numbers</li><li><code>n+</code> means any level greater than or equal to <code>n</code></li><li><code>n-</code> means any level less than or equal to <code>n</code></li><li><code>n-m</code> means any level between <code>n</code> and <code>m</code> inclusive</li></ul></li><li><code>element</code> are space-delimited element names to match (<code>xml[;2]</code>). For example <code>'th td'</code> will match all <code>th</code> and <code>td</code> elements.</li><li><code>content</code> is a string to search for in the element's content (<code>xml[;3]</code>)</li><li><code>attribute</code> are space-delimited attribute names to match (column 1 of <code>xml[;4]</code>)</li><li><code>attributeValue</code> is string to search for in the attribute values (column 2 of <code>xml[;4]</code>)</li><li><code>type</code> is a space-delimited list of <code>\u2395XML</code> types to match (<code>xml[;5]</code>)</li></ul> <code>xml</code> A 5-column <code>\u2395XML</code> matrix <code>bv</code> A Boolean vector marking rows in <code>xml</code> that match the search criteria in <code>criteria</code>"},{"location":"xmlutils/#xselect","title":"<code>Xselect</code>","text":"<p>Having found XML elements using <code>Xfind</code>, you can use <code>Xselect</code> to select them and optionally their immediate descendants.</p> Syntax <code>elements \u2190 {kids} (xml Xselect) bv</code> <code>bv</code> A Boolean vector with as many elements as rows in <code>xml</code>. <code>1</code>'s indicate an element to retrieve. <code>xml</code> A 5-column <code>\u2395XML</code> matrix <code>kids</code> An optional Boolean scalar indicating whether to in include descendent elements. Valid values are:<ul><li><code>0</code> do not include descendents</li><li><code>1</code> (the default) include descendent elements <code>elements</code> A vector containing <code>+/bv</code> elements, each of which contains the <code>xml</code> element corresponding to a <code>1</code> in <code>bv</code> and, if <code>kids</code> is 1, its immediately following descendant elements."},{"location":"xmlutils/#xattr","title":"<code>Xattr</code>","text":"<p><code>Xattr</code> retrieves the values of all attributes in <code>xml</code> that match the attribute name(s) you supply.</p> Syntax <code>values \u2190 {ic} (xml Xattr) attr</code> <code>attr</code> A vector of space-separated attribute names, or a vector of such vectors. <code>xml</code> A single 5-column <code>\u2395XML</code>-style matrix or vector of such matrices <code>ic</code> An optional Boolean indicating whether to perform a case-insensitive comparison on the attribute names. Valid values are:<ul><li><code>0</code> (the default) comparisons are case sensitive</li><li><code>1</code> comparisons are not case sensitive</li></ul> <code>values</code> The shape of <code>values</code> depends on the shapes of <code>xml</code> and <code>attr</code>.<ul><li>If <code>xml</code> is a <code>\u2395XML</code>-style matrix, <code>values</code> will be a vector of character vectors containing the values of matching attributes in <code>xml</code>.</li><li>If <code>xml</code> is a vector of <code>\u2395XML</code>-style matrices, <code>values</code> will be a vector with as many elements as <code>xml</code>, with each vector containing a vector of character vectors containing the values of attributes found in each matrix in <code>xml</code> Notes XML and XHTML attribute names are case sensitive, while HTML attribute names are not."},{"location":"xmlutils/#xattrval","title":"<code>Xattrval</code>","text":"<p><code>Xattrval</code> is a shortcut function that essentially does an <code>Xfind</code>, <code>Xselect</code>, and <code>Xattr</code>.</p> Syntax <code>values \u2190 {ic} (xml Xattrval) criteria</code> <code>criteria</code> The same as <code>criteria</code> described in <code>Xfind</code> above.A delimited character vector where each segment is a filter to be applied to a column of <code>xml</code>. Empty segments are not used in the search. All textual searches are case insensitive.<pre>      specs \u2190 '/level/element/content/attribute/attributeValue/type'</pre>Where:<ul><li><code>level</code> is the nesting level (<code>xml[;1]</code>). <code>n+</code> means any level greater than or equal to <code>n</code>. <code>n-</code> means any level less than or equal to <code>n</code>. <code>n-m</code> means any level between <code>n</code> and <code>m</code> inclusive.</li><li><code>element</code> are space-delimited element names to match (<code>xml[;2]</code>). For example <code>'th td'</code> will match all <code>th</code> and <code>td</code> elements.</li><li><code>content</code> is a string to search for in the element's content (<code>xml[;3]</code>)</li><li><code>attribute</code> are space-delimited attribute names to match (column 1 of <code>xml[;4]</code>)</li><li><code>attributeValue</code> is string to search for in the attribute values (column 2 of <code>xml[;4]</code>)</li><li><code>type</code> is a space-delimited list of <code>\u2395XML</code> types to match (<code>xml[;5]</code>)</li></ul> <code>xml</code> A single 5-column <code>\u2395XML</code> matrix <code>ic</code> An optional Boolean indicating whether to perform a case-insensitive comparison on the attribute names. Valid values are:<ul><li><code>0</code> (the default) comparisons are case sensitive</li><li><code>1</code> comparisons are not case sensitive</li></ul> <code>values</code> The shape of <code>values</code> depends on the shapes of <code>xml</code> and <code>attr</code>.<ul><li>If <code>xml</code> is a <code>\u2395XML</code>-style matrix, <code>values</code> will be a vector of character vectors containing the values of matching attributes in <code>xml</code>.</li><li>If <code>xml</code> is a vector of <code>\u2395XML</code>-style matrices, <code>values</code> will be a vector with as many elements as <code>xml</code>, with each vector containing a vector of character vectors containing the values of attributes found in each matrix in <code>xml</code> Notes XML and XHTML attribute names are case sensitive, while HTML attribute names are not."},{"location":"xmlutils/#xdelete","title":"<code>Xdelete</code>","text":"<p><code>Xdelete</code> deletes elements and optionally their descendants from an XML structure</p> Syntax <code>r \u2190 {kids} (xml Xdelete) criteria</code> <code>criteria</code> Either the same as <code>criteria</code> described in <code>Xfind</code> above or a Boolean vector marking the elements to be deleted <code>xml</code> Either a single 5-column <code>\u2395XML</code> matrix, or a string containing valid XML <code>kids</code> An optional Boolean indicating whether to delete just the elements specified in <code>criteria</code> or their descendants as well. Valid values are:<ul><li><code>0</code> do not delete the descendant elements</li><li><code>1</code> (the default) delete the descendant elements <code>r</code> The resulting 5-column <code>\u2395XML</code> matrix after the elements have been deleted"},{"location":"xmlutils/#xinsert","title":"<code>Xinsert</code>","text":"<p><code>Xinsert</code> inserts elements after selected elements</p> Syntax <code>r \u2190 ins (xml Xinsert) elements</code> <code>elements</code> Either the same as <code>criteria</code> described in <code>Xfind</code> above or a Boolean vector marking the elements after which the new content will be inserted <code>xml</code> Either a single 5-column <code>\u2395XML</code> matrix, or a string containing valid XML <code>ins</code> Either a single 5-column <code>\u2395XML</code> matrix, or a string containing valid XML to be inserted <code>r</code> The resulting 5-column <code>\u2395XML</code> matrix after the elements have been inserted"},{"location":"xmlutils/#xreplace","title":"<code>Xreplace</code>","text":"<p><code>Xreplace</code> replaces XML elements and their descendents</p> Syntax <code>r \u2190 repl (xml Xreplace) elements</code> <code>elements</code> Either the same as <code>criteria</code> described in <code>Xfind</code> above or a Boolean vector marking the elements to be replaced <code>xml</code> Either a single 5-column <code>\u2395XML</code> matrix, or a string containing valid XML <code>repl</code> Either a single 5-column <code>\u2395XML</code> matrix, or a string containing valid XML to be inserted <code>r</code> The resulting 5-column <code>\u2395XML</code> matrix after the elements have been inserted"},{"location":"xmlutils/#xmltojson","title":"<code>XMLtoJSON</code>","text":"<p><code>XMLtoJSON</code> converts XML to JSON</p> Syntax <code>json \u2190 {convert} XMLtoJSON xml</code> <code>xml</code> Character vector of valid XML <code>convert</code> If set to <code>\u00af1</code>, element values that contain only digits will be converted to numbers. <code>json</code> Character vector JSON representation of the XML (suitable for passing to <code>\u2395JSON</code>) Notes Element attributes in the XML are converted to named elements in the JSON representation.<code>XMLtoJSON '&lt;foo goo=\"moo\"&gt;&lt;boo&gt;hoo&lt;/boo&gt;&lt;/foo&gt;</code><code>{\"foo\":{\"goo\":\"moo\",\"boo\":\"hoo\"}}</code>"}]}